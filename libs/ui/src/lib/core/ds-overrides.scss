@use './mixins' as core-mixins;

/*
    Remove borders when table only has one row
*/
.ds-table {
    tr {
        &:first-child,
        &:last-child {
            td {
                border:0;
            }
        }
    }
}

/*
    Give Alerts proper content spacing
*/
.ds-alert {
    @include core-mixins.article();
}

/*
    Alert disables icon when first-child is heading, this fix also removes
    left extra left padding when icon is disabled/hidden
*/
.ds-alert {
    &:has(> :is(h1, h2, h3, h4, h5, h6):first-child) {
        padding-inline-start: var(--ds-size-6);
    }
}

/*
    Remove dark link focus style on link button focus
*/
.ds-link {
    &.ds-button {
        &:focus-visible {
            // Set appropriate background on various buttons
            &[data-variant='primary'] {
                background:var(--ds-color-accent-base-default);
            }
            &[data-variant='secondary'],
            &[data-variant='tertiary'] {
                background:transparent;
                color:var(--ds-color-accent-text-subtle);
            }
        }
    }
}

/*
    DS override: Disable :visited link styling for links and link buttons
*/
.ds-link {
    &:not(.ds-button) {
        // Target only passive state
        &:visited:not(:hover):not(:focus):not(:focus-visible):not(:active) {
            color: var(--ds-color-text-subtle);
        }
    }
    &.ds-button {
        // Target only passive state
        &:visited:not(:hover):not(:focus):not(:focus-visible):not(:active) {
            color: var(--dsc-button-color);
        }
    }
}

/*
    Make icons in links have same color as text
*/
.ds-link {
    svg {
        fill: currentColor;
    }
}

/*
    Disable pointer events on SVG icons inside buttons to prevent click interference
*/
.ds-button {
    svg {
        pointer-events: none;
    }
}